import{b as Q,d as ie,a as oe,t as ue}from"../chunks/disclose-version.DTPjaQPR.js";import{n as se,w as J,N as U,p as le,x as X,J as fe,P as ve,K as ce,M as pe,H as me,v as he,j as ge,a7 as de,y as ye,a8 as b,u as Ce,a3 as je,A as we,e as j,f as y,a4 as x,a6 as M,a5 as R}from"../chunks/runtime.DJcRD1_F.js";import{p as z,b as P}from"../chunks/this.CZqHNnq-.js";import{b as W}from"../chunks/paths.BwYAMzSK.js";function _e(r,e,n,a,i){var t=r,o="",l;se(()=>{if(o===(o=e()??"")){J&&U();return}l!==void 0&&(he(l),l=void 0),o!==""&&(l=le(()=>{if(J){X.data;for(var u=U(),s=u;u!==null&&(u.nodeType!==8||u.data!=="");)s=u,u=fe(u);if(u===null)throw ve(),ce;Q(X,s),t=pe(u);return}var f=o+"",v=ie(f);Q(me(v),v.lastChild),t.before(v)}))})}function S(r,e,n,a){var i=r.__attributes??(r.__attributes={});if(J){i[e]=r.getAttribute(e);return}i[e]!==(i[e]=n)&&(n==null?r.removeAttribute(e):typeof n!="string"&&Ee(r).includes(e)?r[e]=n:r.setAttribute(e,n))}var K=new Map;function Ee(r){var e=K.get(r.nodeName);if(e)return e;K.set(r.nodeName,e=[]);for(var n,a=r,i=Element.prototype;i!==a;){n=de(a);for(var t in n)n[t].set&&e.push(t);a=ge(a)}return e}function w(){}w.prototype={diff:function(e,n){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=i.callback;typeof i=="function"&&(t=i,i={});var o=this;function l(p){return p=o.postProcess(p,i),t?(setTimeout(function(){t(p)},0),!0):p}e=this.castInput(e,i),n=this.castInput(n,i),e=this.removeEmpty(this.tokenize(e,i)),n=this.removeEmpty(this.tokenize(n,i));var u=n.length,s=e.length,f=1,v=u+s;i.maxEditLength!=null&&(v=Math.min(v,i.maxEditLength));var C=(a=i.timeout)!==null&&a!==void 0?a:1/0,h=Date.now()+C,m=[{oldPos:-1,lastComponent:void 0}],g=this.extractCommon(m[0],n,e,0,i);if(m[0].oldPos+1>=s&&g+1>=u)return l(ee(o,m[0].lastComponent,n,e,o.useLongestToken));var E=-1/0,d=1/0;function T(){for(var p=Math.max(E,-f);p<=Math.min(d,f);p+=2){var c=void 0,k=m[p-1],L=m[p+1];k&&(m[p-1]=void 0);var $=!1;if(L){var Z=L.oldPos-p;$=L&&0<=Z&&Z<u}var G=k&&k.oldPos+1<s;if(!$&&!G){m[p]=void 0;continue}if(!G||$&&k.oldPos<L.oldPos?c=o.addToPath(L,!0,!1,0,i):c=o.addToPath(k,!1,!0,1,i),g=o.extractCommon(c,n,e,p,i),c.oldPos+1>=s&&g+1>=u)return l(ee(o,c.lastComponent,n,e,o.useLongestToken));m[p]=c,c.oldPos+1>=s&&(d=Math.min(d,p-1)),g+1>=u&&(E=Math.max(E,p+1))}f++}if(t)(function p(){setTimeout(function(){if(f>v||Date.now()>h)return t();T()||p()},0)})();else for(;f<=v&&Date.now()<=h;){var _=T();if(_)return _}},addToPath:function(e,n,a,i,t){var o=e.lastComponent;return o&&!t.oneChangePerToken&&o.added===n&&o.removed===a?{oldPos:e.oldPos+i,lastComponent:{count:o.count+1,added:n,removed:a,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:n,removed:a,previousComponent:o}}},extractCommon:function(e,n,a,i,t){for(var o=n.length,l=a.length,u=e.oldPos,s=u-i,f=0;s+1<o&&u+1<l&&this.equals(a[u+1],n[s+1],t);)s++,u++,f++,t.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return f&&!t.oneChangePerToken&&(e.lastComponent={count:f,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=u,s},equals:function(e,n,a){return a.comparator?a.comparator(e,n):e===n||a.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],a=0;a<e.length;a++)e[a]&&n.push(e[a]);return n},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function ee(r,e,n,a,i){for(var t=[],o;e;)t.push(e),o=e.previousComponent,delete e.previousComponent,e=o;t.reverse();for(var l=0,u=t.length,s=0,f=0;l<u;l++){var v=t[l];if(v.removed)v.value=r.join(a.slice(f,f+v.count)),f+=v.count;else{if(!v.added&&i){var C=n.slice(s,s+v.count);C=C.map(function(h,m){var g=a[f+m];return g.length>h.length?g:h}),v.value=r.join(C)}else v.value=r.join(n.slice(s,s+v.count));s+=v.count,v.added||(f+=v.count)}}return t}var Te=new w;function ke(r,e,n){return Te.diff(r,e,n)}function re(r,e){var n;for(n=0;n<r.length&&n<e.length;n++)if(r[n]!=e[n])return r.slice(0,n);return r.slice(0,n)}function ne(r,e){var n;if(!r||!e||r[r.length-1]!=e[e.length-1])return"";for(n=0;n<r.length&&n<e.length;n++)if(r[r.length-(n+1)]!=e[e.length-(n+1)])return r.slice(-n);return r.slice(-n)}function V(r,e,n){if(r.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(r)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return n+r.slice(e.length)}function q(r,e,n){if(!e)return r+n;if(r.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(r)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return r.slice(0,-e.length)+n}function D(r,e){return V(r,e,"")}function A(r,e){return q(r,e,"")}function te(r,e){return e.slice(0,Le(r,e))}function Le(r,e){var n=0;r.length>e.length&&(n=r.length-e.length);var a=e.length;r.length<e.length&&(a=r.length);var i=Array(a),t=0;i[0]=0;for(var o=1;o<a;o++){for(e[o]==e[t]?i[o]=i[t]:i[o]=t;t>0&&e[o]!=e[t];)t=i[t];e[o]==e[t]&&t++}t=0;for(var l=n;l<r.length;l++){for(;t>0&&r[l]!=e[t];)t=i[t];r[l]==e[t]&&t++}return t}var I="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",De=new RegExp("[".concat(I,"]+|\\s+|[^").concat(I,"]"),"ug"),N=new w;N.equals=function(r,e,n){return n.ignoreCase&&(r=r.toLowerCase(),e=e.toLowerCase()),r.trim()===e.trim()};N.tokenize=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(e.intlSegmenter.segment(r),function(t){return t.segment})}else n=r.match(De)||[];var a=[],i=null;return n.forEach(function(t){/\s/.test(t)?i==null?a.push(t):a.push(a.pop()+t):/\s/.test(i)?a[a.length-1]==i?a.push(a.pop()+t):a.push(i+t):a.push(t),i=t}),a};N.join=function(r){return r.map(function(e,n){return n==0?e:e.replace(/^\s+/,"")}).join("")};N.postProcess=function(r,e){if(!r||e.oneChangePerToken)return r;var n=null,a=null,i=null;return r.forEach(function(t){t.added?a=t:t.removed?i=t:((a||i)&&ae(n,i,a,t),n=t,a=null,i=null)}),(a||i)&&ae(n,i,a,null),r};function ae(r,e,n,a){if(e&&n){var i=e.value.match(/^\s*/)[0],t=e.value.match(/\s*$/)[0],o=n.value.match(/^\s*/)[0],l=n.value.match(/\s*$/)[0];if(r){var u=re(i,o);r.value=q(r.value,o,u),e.value=D(e.value,u),n.value=D(n.value,u)}if(a){var s=ne(t,l);a.value=V(a.value,l,s),e.value=A(e.value,s),n.value=A(n.value,s)}}else if(n)r&&(n.value=n.value.replace(/^\s*/,"")),a&&(a.value=a.value.replace(/^\s*/,""));else if(r&&a){var f=a.value.match(/^\s*/)[0],v=e.value.match(/^\s*/)[0],C=e.value.match(/\s*$/)[0],h=re(f,v);e.value=D(e.value,h);var m=ne(D(f,h),C);e.value=A(e.value,m),a.value=V(a.value,f,m),r.value=q(r.value,f,f.slice(0,f.length-m.length))}else if(a){var g=a.value.match(/^\s*/)[0],E=e.value.match(/\s*$/)[0],d=te(E,g);e.value=A(e.value,d)}else if(r){var T=r.value.match(/\s*$/)[0],_=e.value.match(/^\s*/)[0],p=te(T,_);e.value=D(e.value,p)}}var Oe=new w;Oe.tokenize=function(r){var e=new RegExp("(\\r?\\n)|[".concat(I,"]+|[^\\S\\n\\r]+|[^").concat(I,"]"),"ug");return r.match(e)||[]};var Y=new w;Y.tokenize=function(r,e){e.stripTrailingCr&&(r=r.replace(/\r\n/g,`
`));var n=[],a=r.split(/(\n|\r\n)/);a[a.length-1]||a.pop();for(var i=0;i<a.length;i++){var t=a[i];i%2&&!e.newlineIsToken?n[n.length-1]+=t:n.push(t)}return n};Y.equals=function(r,e,n){return n.ignoreWhitespace?((!n.newlineIsToken||!r.includes(`
`))&&(r=r.trim()),(!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(r.endsWith(`
`)&&(r=r.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),w.prototype.equals.call(this,r,e,n)};var ze=new w;ze.tokenize=function(r){return r.split(/(\S.+?[.!?])(?=\s+|$)/)};var Ae=new w;Ae.tokenize=function(r){return r.split(/([{}:;,]|\s+)/)};function F(r){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(r)}var O=new w;O.useLongestToken=!0;O.tokenize=Y.tokenize;O.castInput=function(r,e){var n=e.undefinedReplacement,a=e.stringifyReplacer,i=a===void 0?function(t,o){return typeof o>"u"?n:o}:a;return typeof r=="string"?r:JSON.stringify(H(r,null,null,i),i,"  ")};O.equals=function(r,e,n){return w.prototype.equals.call(O,r.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),n)};function H(r,e,n,a,i){e=e||[],n=n||[],a&&(r=a(i,r));var t;for(t=0;t<e.length;t+=1)if(e[t]===r)return n[t];var o;if(Object.prototype.toString.call(r)==="[object Array]"){for(e.push(r),o=new Array(r.length),n.push(o),t=0;t<r.length;t+=1)o[t]=H(r[t],e,n,a,i);return e.pop(),n.pop(),o}if(r&&r.toJSON&&(r=r.toJSON()),F(r)==="object"&&r!==null){e.push(r),o={},n.push(o);var l=[],u;for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&l.push(u);for(l.sort(),t=0;t<l.length;t+=1)u=l[t],o[u]=H(r[u],e,n,a,u);e.pop(),n.pop()}else o=r;return o}var B=new w;B.tokenize=function(r){return r.slice()};B.join=B.removeEmpty=function(r){return r};var Ie=ue('<div id="map-container" class="svelte-1kpeuij"><img class="map svelte-1kpeuij" id="map" alt=""> <img class="map svelte-1kpeuij" id="map-marker" alt=""> <form id="form" class="wrong"><input type="text" id="input" autocomplete="off" placeholder="Kirjuta siia nimi" class="svelte-1kpeuij"></form> <p id="hint" class="svelte-1kpeuij"><!></p></div>');function Re(r,e){ye(e,!0);let n,a,i=b(""),t=0,o;const l={"Ahja jõgi":0,"Elva jõgi":0,"Endla järv":0,"Erimistu järv":0,"Halliste jõgi":0,"Jägala jõgi":0,"Kahala järv":0,Karujärv:0,"Kassari jõgi":0,"Keila jõgi":0,"Koosa järv":0,"Kunda jõgi":0,"Kuremaa järv":0,"Mullutu Suurlaht":0,"Narva jõgi":0,"Narva veehoidla":0,"Navesti jõgi":0,"Paunküla veehoidla":0,"Pedja jõgi":0,"Peipsi järv":0,"Pirita jõgi":0,"Piusa jõgi":0,"Purtse jõgi":0,"Pärnu jõgi":0,"Põltsamaa jõgi":0,Pühajärv:0,"Raudna jõgi":0,Saadjärv:0,"Sauga jõgi":0,"Sutlepa meri":0,"Suur Emajõgi":0,"Tamula järv":0,"Tõhela järv":0,"Vagula järv":0,Valgejõgi:0,Veisjärv:0,"Vigala jõgi":0,"Väike-Emajõgi":0,"Võhandu jõgi":0,Võrtsjärv:0,"Õhne jõgi":0,"Ülemiste järv":0},u=()=>Object.keys(l)[Math.floor(Math.random()*Object.keys(l).length)];let s=b(z(u()));Ce(()=>{j(s,z(u())),n.focus(),n.addEventListener("blur",()=>{setTimeout(()=>{n.focus()},0)}),a.addEventListener("submit",d=>{if(n.value.length===0)return;const T=n.value.trim();if(n.value="",T.toLowerCase()===y(s).toLowerCase()){n.style.backgroundColor="#70e071",j(s,z(u())),j(i,""),t=0;return}t+=1;const _=ke(y(s),T,{ignoreCase:!0});console.log(_),_.filter(c=>c.added||c.removed).reduce((c,k)=>c+(k.count||0),0)<=2?(n.style.backgroundColor="#ffe600",j(i,""),_.forEach(c=>{c.added?j(i,y(i)+`<span style="color: red; white-space: pre;">${c.value}</span>`):c.removed||j(i,y(i)+c.value)}),j(i,y(i)+" -> "),_.forEach(c=>{c.removed?j(i,y(i)+`<span style="color: green; white-space: pre;">${c.value}</span>`):c.added||j(i,y(i)+c.value)})):(n.style.backgroundColor="#f56e6e",t===0?j(i,y(s).charAt(0)+y(s).replace(/[^ ]/g,"_").slice(1)):t>0&&j(i,z(y(s))))})});var f=Ie(),v=x(f);S(v,"src",`${W??""}/veekogud/Kaart.png`);var C=M(v,2);P(C,d=>o=d,()=>o);var h=M(C,2),m=x(h);P(m,d=>n=d,()=>n),R(h),P(h,d=>a=d,()=>a);var g=M(h,2),E=x(g);_e(E,()=>y(i)),R(g),R(f),je(()=>S(C,"src",`${W??""}/veekogud/${y(s)??""}.png`)),oe(r,f),we()}export{Re as component};
