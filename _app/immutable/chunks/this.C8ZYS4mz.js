import{S as N,O as Y,P as j,Q as _,R as q,T as g,U as x,V as l,W as T,w as B,X as C,g as F,t as K,d as M,h as E,D as U,E as Z,Y as H,Z as Q,C as V,B as A,_ as D,i as S,$ as k,k as W,a0 as X,a1 as $,b as z,a2 as G}from"./runtime.D6dthrJq.js";function w(i,d=null,b){if(typeof i!="object"||i===null||N in i)return i;const v=F(i);if(v!==Y&&v!==j)return i;var r=new Map,n=K(i),y=_(0);n&&r.set("length",_(i.length));var h;return new Proxy(i,{defineProperty(s,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&q();var a=r.get(e);return a===void 0?(a=_(t.value),r.set(e,a)):g(a,w(t.value,h)),!0},deleteProperty(s,e){var t=r.get(e);if(t===void 0)e in s&&r.set(e,_(l));else{if(n&&typeof e=="string"){var a=r.get("length"),f=Number(e);Number.isInteger(f)&&f<a.v&&g(a,f)}g(t,l),m(y)}return!0},get(s,e,t){var c;if(e===N)return i;var a=r.get(e),f=e in s;if(a===void 0&&(!f||(c=x(s,e))!=null&&c.writable)&&(a=_(w(f?s[e]:l,h)),r.set(e,a)),a!==void 0){var u=T(a);return u===l?void 0:u}return Reflect.get(s,e,t)},getOwnPropertyDescriptor(s,e){var t=Reflect.getOwnPropertyDescriptor(s,e);if(t&&"value"in t){var a=r.get(e);a&&(t.value=T(a))}else if(t===void 0){var f=r.get(e),u=f==null?void 0:f.v;if(f!==void 0&&u!==l)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(s,e){var u;if(e===N)return!0;var t=r.get(e),a=t!==void 0&&t.v!==l||Reflect.has(s,e);if(t!==void 0||B!==null&&(!a||(u=x(s,e))!=null&&u.writable)){t===void 0&&(t=_(a?w(s[e],h):l),r.set(e,t));var f=T(t);if(f===l)return!1}return a},set(s,e,t,a){var O;var f=r.get(e),u=e in s;if(n&&e==="length")for(var c=t;c<f.v;c+=1){var o=r.get(c+"");o!==void 0?g(o,l):c in s&&(o=_(l),r.set(c+"",o))}f===void 0?(!u||(O=x(s,e))!=null&&O.writable)&&(f=_(void 0),g(f,w(t,h)),r.set(e,f)):(u=f.v!==l,g(f,w(t,h)));var R=Reflect.getOwnPropertyDescriptor(s,e);if(R!=null&&R.set&&R.set.call(a,t),!u){if(n&&typeof e=="string"){var I=r.get("length"),P=Number(e);Number.isInteger(P)&&P>=I.v&&g(I,P+1)}m(y)}return!0},ownKeys(s){T(y);var e=Reflect.ownKeys(s).filter(f=>{var u=r.get(f);return u===void 0||u.v!==l});for(var[t,a]of r)a.v!==l&&!(t in s)&&e.push(t);return e},setPrototypeOf(){C()}})}function m(i,d=1){g(i,i.v+d)}function p(i,d,b=!1){E&&U();var v=i,r=null,n=null,y=l,h=b?Z:0,s=!1;const e=(a,f=!0)=>{s=!0,t(f,a)},t=(a,f)=>{if(y===(y=a))return;let u=!1;if(E){const c=v.data===H;!!y===c&&(v=Q(),V(v),A(!1),u=!0)}y?(r?D(r):f&&(r=S(()=>f(v))),n&&k(n,()=>{n=null})):(n?D(n):f&&(n=S(()=>f(v))),r&&k(r,()=>{r=null})),u&&A(!0)};M(()=>{s=!1,d(e),s||t(null,null)},h),E&&(v=W)}function L(i,d){return i===d||(i==null?void 0:i[N])===d}function ee(i={},d,b,v){return X(()=>{var r,n;return $(()=>{r=n,n=[],z(()=>{i!==b(...n)&&(d(i,...n),r&&L(b(...r),i)&&d(null,...r))})}),()=>{G(()=>{n&&L(b(...n),i)&&d(null,...n)})}}),i}export{ee as b,p as i,w as p};
